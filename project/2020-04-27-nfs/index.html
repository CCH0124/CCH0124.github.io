<!doctype html><html lang=en-us style=max-width:1000px;margin:auto><head><title>Kevin Blog</title><meta name=theme-color content><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta name=description content="Kevin learning"><meta name=author content="Kevin Chen"><meta name=generator content="aafu theme by Darshan in Hugo 0.83.0"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=/css/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.15.2/css/all.css integrity=sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu crossorigin=anonymous><link rel=stylesheet href=https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Didact+Gothic%7CRoboto:400%7CRoboto+Mono"><link rel=stylesheet href=/css/aafu_pinkish.css><link rel=stylesheet href=/css/aafu.css><script>var themeColor=document.querySelector("meta[name=theme-color]");window.onload=()=>{themeColor.content=getComputedStyle(document.body)["background-color"];let a=document.querySelector(".accordion.active");a&&(a.nextElementSibling.style.maxHeight=a.nextElementSibling.scrollHeight+"px")},window.onresize=()=>{let a=document.querySelector(".accordion.active");a&&(a.nextElementSibling.style.maxHeight=a.nextElementSibling.scrollHeight+"px")}</script></head><body class=container><main style="min-height:calc(100vh - 60px)"><div class="d-flex flex-row row p-2"><h3 class="main-menu mr-3"><a href=https://cch0124.github.io/>Home</a></h3><h3 class="main-menu mr-3"><a href=/blog>Blog</a></h3><h3 class="main-menu mr-3"><a href=/project>Project</a></h3><h3 class="main-menu mr-3"><a href=/life>Life</a></h3><h3 class="main-menu mr-3"><a href=/kubernetes>Kubernetes</a></h3><h3 class="main-menu mr-3"><a href=/code>Coding</a></h3></div><div class=mb-3><h1 class=top-h1 style=font-size:2.75em>NFS</h1><p class=mb-1>April 27, 2020</p><p>&mdash;</p></div><div class=content><p><code>NFS</code> 是經由 <code>LAN</code> 或 <code>WAN</code> 存取遠端檔案。它的共用是基於 <code>Server</code> 和 <code>Client</code> 關係。因此設定 NFS 時需要有網路位置和共享路徑。</p><h5 id=env>Env</h5><ul><li>學校實驗室A系統<ul><li>ubuntu 12.04</li><li>公網</li></ul></li><li>學校實驗室B另一台主機<ul><li>公網</li></ul></li></ul><h2 id=server>Server</h2><h3 id=install>Install</h3><pre><code class="language-shell=" data-lang="shell=">sudo apt-get install nfs-kernel-server
</code></pre><h3 id=share-dir-setting>share dir setting</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>// 學校實驗A室備份都放置 /home1/....../backup/NFS
// share_dir client_ip<span style=color:#f92672>(</span>env setting<span style=color:#f92672>)</span>
$ sudo vi /etc/exports
share_dir 實驗室B_IP<span style=color:#f92672>(</span>rw,sync,no_root_squash,insecure,no_subtree_check<span style=color:#f92672>)</span>
$ sudo chown nobody:nogroup share_dir
$ sudo service nfs-kernel-server restart 
</code></pre></div><p>client_ip 就是實驗室B_IP，因為只限制該B實驗室存取，如果使用 <code>*</code> 則表示所有都可存取。</p><h5 id=option>Option</h5><ul><li>rw<ul><li>read and write operations</li></ul></li><li>sync<ul><li>write any change to the disc before applying it</li></ul></li><li>no_subtree_check: prevent subtree checking</li><li>no_root_squash</li><li>insecure</li></ul><h2 id=client>Client</h2><h3 id=install-1>Install</h3><pre><code class="language-shell=" data-lang="shell=">sudo apt-get install nfs-common
</code></pre><h3 id=mount-directory-of-nfs>Mount directory of NFS</h3><pre><code class="language-shell=" data-lang="shell=">$ sudo mount [nfs_server_ip]:[server_share_dir] [client_dir]
</code></pre><h2 id=參考資料>參考資料</h2><ul><li><p><a href=https://blog.51cto.com/zhaochj/1719640>mount 問題參考</a></p></li><li><p><a href=https://kerneltalks.com/linux/nfs-configuration-linux-hpux/>nfs-configuration-linux-hpux</a></p></li><li><p><a href=https://kerneltalks.com/troubleshooting/mount-nfs-requested-nfs-version-or-transport-protocol-is-not-supported/>mount-nfs-requested-nfs-version-or-transport-protocol-is-not-supported</a></p></li><li><p><a href=https://vitux.com/install-nfs-server-and-client-on-ubuntu/>nfs install</a></p></li></ul></div><div class="d-flex flex-row justify-content-around"><h3 class="mb-1 mt-1 text-left mr-4"><a href=/project/2019-11-15-elk-input-csv/ title="input csv to elasticsearch"><i class="nav-menu fas fa-chevron-circle-left"></i></a></h3><h3 class="mb-1 mt-1 text-left ml-4"><a href=/project/2020-09-07-person-history/ title=學習紀錄><i class="nav-menu fas fa-chevron-circle-right"></i></a></h3></div></main><footer class="mt-2 mb-4 text-center"><span class=markdownify>short copyright message</span>
<span>&#183;
<i><a href=https://github.com/darshanbaral/aafu>aafu</a></i>
by
<a href=https://www.darshanbaral.com/>darshan</a></span></footer></body></html>