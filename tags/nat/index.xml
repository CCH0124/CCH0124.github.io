<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>NAT on</title><link>https://cch0124.github.io/tags/nat/</link><description>Recent content in NAT on</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://cch0124.github.io/tags/nat/index.xml" rel="self" type="application/rss+xml"/><item><title>NAT</title><link>https://cch0124.github.io/blog/2019-10-12-nat-dynamic/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cch0124.github.io/blog/2019-10-12-nat-dynamic/</guid><description>什麼是 NAT 因為 IPv4 的地址將用盡，如果沒有 NAT 技術的話將導致某一些人無法存取網路。在 ISP 提供的 IP 可分為，動態 IP 與靜態 IP。動態 IP 可以想成從 ISP 那邊自動獲取 IP 類似於 DHCP；靜態 IP 就是給一個 Global IP 位置且它是收費的。隨著物聯網裝置的需求想必 IPv4 是不夠用，因此就有 NAT 去提升效率，藉由一個 Global IP 來對其下的組織或客戶端實現 NAT 並存取網際網路。
NAT 通常會配置兩個網路，該 NAT 可以隱藏內部訊息，其流程大致上是把私有 IP 轉換為 Global IP，在將其封包轉發至目的地，這樣也就提供對內的安全性。
NAT 可以幫忙解決 IPv4 不足問題也可以有隱藏 IP 功能提高安全性。但它也會有一些缺點，像是要保留傳入與傳出的 IPv4 這將對記憶體或 CPU 帶來負擔，因為多了 NAT 轉換想必延遲一定會有，除此之外它變得不可追溯，因此在做除錯時會帶來麻煩。
環境設置 下圖為實驗環境，兩台客戶端和一台可通往 Cloud1 的 ISP。
兩台客戶端使用 Vmware 虛擬機網路都為同一個 host only，接著用 netplan 配置虛擬機 IP 和 gateway，這 gateway 將會是 R1 的 f0/0 接口的 IP，這邊有 netplan 教學鏈結。圖中的 Cloud1 使用 Vmware 提供的可上網的網路適配器，記住上圖的 IP 設置應當依照實驗環境而設置。</description></item><item><title>Static NAT</title><link>https://cch0124.github.io/blog/2019-10-13-static-nat/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://cch0124.github.io/blog/2019-10-13-static-nat/</guid><description>環境 配置一台 host only 的虛擬機和一台 R1 路由器以及可以連至網際網路的 Cloud1。該 Cloud1 使用的是手機 USB 出來的網路適配器。
配置 R1 配置 f0/0 的 IP，對於這個 f0/0 來說它是虛擬機的 gateway，只要封包不知道要往哪邊走都會網 f0/0 丟。
R1(config)#interface fastEthernet 0/0 R1(config-if)#ip address 192.168.245.254 255.255.255.0 R1(config-if)#no shutdown 配置 R1 的 Outside 接口，使用 DHCP 方式向 Cloud1 請求 IP。
R1(config)#interface fastEthernet 1/0 R1(config-if)#no shutdown R1(config-if)#ip address dhcp 確認有無配置到 IP。
R1(config-if)#do sh ip int brief Interface IP-Address OK? Method Status Protocol FastEthernet0/0 192.168.245.254 YES manual up up FastEthernet1/0 192.</description></item></channel></rss>