<!doctype html><html lang=en-us style=max-width:1000px;margin:auto><head><title>Kevin Blog</title><meta name=theme-color content><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta name=description content="Kevin learning"><meta name=author content="Kevin Chen"><meta name=generator content="aafu theme by Darshan in Hugo 0.83.0"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=/css/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.15.2/css/all.css integrity=sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu crossorigin=anonymous><link rel=stylesheet href=https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Didact+Gothic%7CRoboto:400%7CRoboto+Mono"><link rel=stylesheet href=/css/aafu_pinkish.css><link rel=stylesheet href=/css/aafu.css><script>var themeColor=document.querySelector("meta[name=theme-color]");window.onload=()=>{themeColor.content=getComputedStyle(document.body)["background-color"];let a=document.querySelector(".accordion.active");a&&(a.nextElementSibling.style.maxHeight=a.nextElementSibling.scrollHeight+"px")},window.onresize=()=>{let a=document.querySelector(".accordion.active");a&&(a.nextElementSibling.style.maxHeight=a.nextElementSibling.scrollHeight+"px")}</script></head><body class=container><main style="min-height:calc(100vh - 60px)"><div class="d-flex flex-row row p-2"><h3 class="main-menu mr-3"><a href=https://cch0124.github.io/>Home</a></h3><h3 class="main-menu mr-3"><a href=/blog>Blog</a></h3><h3 class="main-menu mr-3"><a href=/project>Project</a></h3><h3 class="main-menu mr-3"><a href=/life>Life</a></h3><h3 class="main-menu mr-3"><a href=/kubernetes>Kubernetes</a></h3><h3 class="main-menu mr-3"><a href=/code>Coding</a></h3></div><div class=mb-3><h1 class=top-h1 style=font-size:2.75em>底部滑動按鈕</h1><p class=mb-1>September 23, 2019</p><p>&mdash;</p></div><div class=content><h1 id=想法>想法</h1><ul><li>使用 <code>button</code></li><li>用 <code>row</code> 集成 <code>button</code> 為同一列</li><li><code>SingleChildScrollView</code> 滑動</li><li><code>EdgeInsets</code> 設定 <code>button</code> 之間距離</li><li>用 <code>container</code> 包住元件</li></ul><h2 id=程式碼>程式碼</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#39;package:flutter/material.dart&#39;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#39;package:flutter/painting.dart&#39;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#39;package:flutter/widgets.dart&#39;</span>;

<span style=color:#75715e>/**
</span><span style=color:#75715e> * 定義資料結構，button 要有名稱和動作
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BottomButtonModel</span> {
  <span style=color:#66d9ef>String</span> title;
  <span style=color:#66d9ef>String</span> routeName;
  BottomButtonModel(<span style=color:#66d9ef>String</span> title, <span style=color:#66d9ef>String</span> routeName) {
    <span style=color:#66d9ef>this</span>.title <span style=color:#f92672>=</span> title;
    <span style=color:#66d9ef>this</span>.routeName <span style=color:#f92672>=</span> routeName;
  }
}

List<span style=color:#f92672>&lt;</span>BottomButtonModel<span style=color:#f92672>&gt;</span> bottomButtonItems <span style=color:#f92672>=</span> [
  BottomButtonModel(<span style=color:#e6db74>&#34;F1&#34;</span>, <span style=color:#e6db74>&#34;F1&#34;</span>),
  BottomButtonModel(<span style=color:#e6db74>&#34;F2&#34;</span>, <span style=color:#e6db74>&#34;F2&#34;</span>),
  BottomButtonModel(<span style=color:#e6db74>&#34;F3&#34;</span>, <span style=color:#e6db74>&#34;F3&#34;</span>),
  BottomButtonModel(<span style=color:#e6db74>&#34;F4&#34;</span>, <span style=color:#e6db74>&#34;F4&#34;</span>),
  BottomButtonModel(<span style=color:#e6db74>&#34;F5&#34;</span>, <span style=color:#e6db74>&#34;F5&#34;</span>),
  BottomButtonModel(<span style=color:#e6db74>&#34;F6&#34;</span>, <span style=color:#e6db74>&#34;F6&#34;</span>),
  BottomButtonModel(<span style=color:#e6db74>&#34;F7&#34;</span>, <span style=color:#e6db74>&#34;F7&#34;</span>),
  BottomButtonModel(<span style=color:#e6db74>&#34;F8&#34;</span>, <span style=color:#e6db74>&#34;F8&#34;</span>),
  BottomButtonModel(<span style=color:#e6db74>&#34;F9&#34;</span>, <span style=color:#e6db74>&#34;F9&#34;</span>),
  BottomButtonModel(<span style=color:#e6db74>&#34;F0&#34;</span>, <span style=color:#e6db74>&#34;F0&#34;</span>),
  BottomButtonModel(<span style=color:#e6db74>&#34;F.&#34;</span>, <span style=color:#e6db74>&#34;Fdot&#34;</span>),
];

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BottomButtonListBuild</span> <span style=color:#66d9ef>extends</span> StatefulWidget {
  <span style=color:#960050;background-color:#1e0010>@</span>override
  BottomButtonListBuildState createState() {
    <span style=color:#75715e>// TODO: implement createState
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> BottomButtonListBuildState();
  }
}

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BottomButtonListBuildState</span> <span style=color:#66d9ef>extends</span> State<span style=color:#f92672>&lt;</span>BottomButtonListBuild<span style=color:#f92672>&gt;</span> {
  <span style=color:#960050;background-color:#1e0010>@</span>override
  Widget build(BuildContext context) {
    <span style=color:#75715e>// TODO: implement build
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Material(
      child: <span style=color:#66d9ef>new</span> Container(
        color: Colors.grey, <span style=color:#75715e>// 這邊可以當背景顏色，這邊使用 container 將我定義的 row 集成 button 包在裡面
</span><span style=color:#75715e></span>        child: <span style=color:#66d9ef>new</span> SingleChildScrollView( <span style=color:#75715e>// 設定 scroll 讓元素能夠滑動
</span><span style=color:#75715e></span>          scrollDirection: Axis.horizontal, <span style=color:#75715e>// 以水平方式移動
</span><span style=color:#75715e></span>          child: <span style=color:#66d9ef>new</span> Row(  <span style=color:#75715e>// 用 row 實現，將每個 button 集成為一列
</span><span style=color:#75715e></span>            verticalDirection: VerticalDirection.down, <span style=color:#75715e>// 向下對齊
</span><span style=color:#75715e></span>            children: bottomButtonItems 
                .map((f) <span style=color:#f92672>=&gt;</span> BottomButton(
                      title: f.title,
                      routeName: f.routeName,
                    ))
                .toList(),
          ),
        ),
      ),
    );
  }
}
<span style=color:#75715e>/**
</span><span style=color:#75715e> * 定義 button 外型及動作
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BottomButton</span> <span style=color:#66d9ef>extends</span> StatefulWidget {
  <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>String</span> title;
  <span style=color:#75715e>// final Function opPress;
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>String</span> routeName;
  <span style=color:#75715e>// required 表示必要參數
</span><span style=color:#75715e></span>  BottomButton({<span style=color:#960050;background-color:#1e0010>@</span>required <span style=color:#66d9ef>this</span>.title, <span style=color:#66d9ef>this</span>.routeName});

  <span style=color:#960050;background-color:#1e0010>@</span>override
  _BottomButtonState createState() <span style=color:#f92672>=&gt;</span> _BottomButtonState();
}

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>_BottomButtonState</span> <span style=color:#66d9ef>extends</span> State<span style=color:#f92672>&lt;</span>BottomButton<span style=color:#f92672>&gt;</span> {
  <span style=color:#960050;background-color:#1e0010>@</span>override
  Widget build(BuildContext context) {
    <span style=color:#75715e>// TODO: implement build
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Container(
      margin: EdgeInsets.only(left: <span style=color:#ae81ff>5.0</span>, right: <span style=color:#ae81ff>5.0</span>), <span style=color:#75715e>// 左右各 5 元素
</span><span style=color:#75715e></span>      child: <span style=color:#66d9ef>new</span> RaisedButton( 
        padding: <span style=color:#66d9ef>new</span> EdgeInsets.fromLTRB(<span style=color:#ae81ff>10.0</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>10.0</span>, <span style=color:#ae81ff>0.0</span>), <span style=color:#75715e>// 定義邊距
</span><span style=color:#75715e></span>        clipBehavior: Clip.antiAlias, <span style=color:#75715e>// 點擊時觸發的顏色
</span><span style=color:#75715e></span>        colorBrightness: Brightness.light, 
        textColor: Colors.black,
        color: Colors.white,
        splashColor: Colors.yellow,
        shape: <span style=color:#66d9ef>new</span> RoundedRectangleBorder( <span style=color:#75715e>// 把按鈕切成圓弧形
</span><span style=color:#75715e></span>            borderRadius: <span style=color:#66d9ef>new</span> BorderRadius.circular(<span style=color:#ae81ff>30.0</span>)), <span style=color:#75715e>// circular 切的弧度
</span><span style=color:#75715e></span>        child: <span style=color:#66d9ef>new</span> Text(
          widget.title, <span style=color:#75715e>// 取得按鈕名稱
</span><span style=color:#75715e></span>        ),
        onPressed: () { <span style=color:#75715e>// 點擊時觸發的動作，這邊定義用 route 切換不同頁面
</span><span style=color:#75715e></span>          <span style=color:#75715e>// widget.opPress;
</span><span style=color:#75715e></span>          Navigator.pushNamed(context, <span style=color:#e6db74>&#39;/&#39;</span> <span style=color:#f92672>+</span> widget.routeName,
              arguments: <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>String</span>, <span style=color:#66d9ef>String</span><span style=color:#f92672>&gt;</span>{<span style=color:#e6db74>&#39;title&#39;</span><span style=color:#f92672>:</span> widget.title});
        },
      ),
    );
  }
}

</code></pre></div><h2 id=result>result</h2><p><a href=https://i.imgur.com/2uMvPd8.gif>嚴禁抄襲</a></p><h2 id=ref>Ref</h2><p><a href=https://api.flutter.dev/flutter/material/RaisedButton-class.html>RaisedButton</a></p><p><a href=https://cch0124.github.io/flutter-button-route/>button 路由</a></p></div><div class="d-flex flex-row justify-content-around"><h3 class="mb-1 mt-1 text-left mr-4"><a href=/blog/2019-09-28-flutter-data-table/ title=資料表實現><i class="nav-menu fas fa-chevron-circle-left"></i></a></h3><h3 class="mb-1 mt-1 text-left ml-4"><a href=/blog/2019-10-05-docker-overview/ title="Docker 基礎介紹"><i class="nav-menu fas fa-chevron-circle-right"></i></a></h3></div></main><footer class="mt-2 mb-4 text-center"><span class=markdownify>short copyright message</span>
<span>&#183;
<i><a href=https://github.com/darshanbaral/aafu>aafu</a></i>
by
<a href=https://www.darshanbaral.com/>darshan</a></span></footer></body></html>