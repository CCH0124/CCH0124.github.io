<!doctype html><html lang=en-us style=max-width:1000px;margin:auto><head><title>Kevin Blog</title><meta name=theme-color content><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta name=description content="Kevin learning"><meta name=author content="Kevin Chen"><meta name=generator content="aafu theme by Darshan in Hugo 0.83.0"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=/css/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.15.2/css/all.css integrity=sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu crossorigin=anonymous><link rel=stylesheet href=https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Didact+Gothic%7CRoboto:400%7CRoboto+Mono"><link rel=stylesheet href=/css/aafu_pinkish.css><link rel=stylesheet href=/css/aafu.css><script>var themeColor=document.querySelector("meta[name=theme-color]");window.onload=()=>{themeColor.content=getComputedStyle(document.body)["background-color"];let a=document.querySelector(".accordion.active");a&&(a.nextElementSibling.style.maxHeight=a.nextElementSibling.scrollHeight+"px")},window.onresize=()=>{let a=document.querySelector(".accordion.active");a&&(a.nextElementSibling.style.maxHeight=a.nextElementSibling.scrollHeight+"px")}</script></head><body class=container><main style="min-height:calc(100vh - 60px)"><div class="d-flex flex-row row p-2"><h3 class="main-menu mr-3"><a href=https://cch0124.github.io/>Home</a></h3><h3 class="main-menu mr-3"><a href=/blog>Blog</a></h3><h3 class="main-menu mr-3"><a href=/project>Project</a></h3><h3 class="main-menu mr-3"><a href=/life>Life</a></h3><h3 class="main-menu mr-3"><a href=/kubernetes>Kubernetes</a></h3><h3 class="main-menu mr-3"><a href=/code>Coding</a></h3></div><div class=mb-3><h1 class=top-h1 style=font-size:2.75em>掛載硬碟</h1><p class=mb-1>September 15, 2018</p><p>&mdash;</p></div><div class=content><h1 id=事由>事由</h1><p>那年是我剛進實驗室的第 2 個月，因為我對 linux 系統較熟，所以我接了管理的這一部分。沒想到此系統沒幾天後硬碟竟然壞了，於是我呼叫我朋友幫我處裡硬碟部分（硬碟還原），我負責掛載。</p><h2 id=分割區切割>分割區切割</h2><p>Linux 的分割區有 90 多種，但實際只會用到四種，數字表分割代碼</p><ul><li>Linux swap（82）<ul><li>虛擬記憶體</li></ul></li><li>Linux（83）<ul><li>適和使用分割區</li></ul></li><li>Extended（5）<ul><li>要劃分四個分割區以上，必須使用</li></ul></li><li>Linux LVM（8e）<ul><li>LVM 分割區</li></ul></li></ul><h2 id=新增硬碟至-ubuntu>新增硬碟至 ubuntu</h2><p>檢查第二顆是否有偵測到</p><pre><code class="language-shell=" data-lang="shell=">$ dmesg |grep hd
</code></pre><p>再次確認</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo fdisk -l /dev/sdb <span style=color:#75715e># 確認硬碟分割區狀態</span>
<span style=color:#f92672>[</span>sudo<span style=color:#f92672>]</span> password <span style=color:#66d9ef>for</span> itachi:

Disk /dev/sdb: 2000.4 GB, <span style=color:#ae81ff>2000398934016</span> bytes
<span style=color:#ae81ff>255</span> heads, <span style=color:#ae81ff>63</span> sectors/track, <span style=color:#ae81ff>243201</span> cylinders, total <span style=color:#ae81ff>3907029168</span> sectors
Units <span style=color:#f92672>=</span> sectors of <span style=color:#ae81ff>1</span> * 512 <span style=color:#f92672>=</span> <span style=color:#ae81ff>512</span> bytes
Sector size <span style=color:#f92672>(</span>logical/physical<span style=color:#f92672>)</span>: <span style=color:#ae81ff>512</span> bytes / <span style=color:#ae81ff>4096</span> bytes
I/O size <span style=color:#f92672>(</span>minimum/optimal<span style=color:#f92672>)</span>: <span style=color:#ae81ff>4096</span> bytes / <span style=color:#ae81ff>4096</span> bytes
Disk identifier: 0x00000000

Disk /dev/sdb doesn<span style=color:#960050;background-color:#1e0010>&#39;</span>t contain a valid partition table
</code></pre></div><h2 id=接著開始分割>接著開始分割</h2><p>進入 <code>fdisk</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo fdisk /dev/sdb
Device contains neither a valid DOS partition table, nor Sun, SGI or OSF disklabel
Building a new DOS disklabel with disk identifier 0x5b5b43aa.
Changes will remain in memory only, <span style=color:#66d9ef>until</span> you decide to write them.
After that, of course, the previous content won<span style=color:#e6db74>&#39;t be recoverable.
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>Warning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>The device presents a logical sector size that is smaller than
</span><span style=color:#e6db74>the physical sector size. Aligning to a physical sector (or optimal
</span><span style=color:#e6db74>I/O) size boundary is recommended, or performance may be impacted.
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>Command (m for help): m # 顯示各種指令
</span><span style=color:#e6db74>Command action
</span><span style=color:#e6db74>   a   toggle a bootable flag
</span><span style=color:#e6db74>   b   edit bsd disklabel
</span><span style=color:#e6db74>   c   toggle the dos compatibility flag
</span><span style=color:#e6db74>   d   delete a partition
</span><span style=color:#e6db74>   l   list known partition types
</span><span style=color:#e6db74>   m   print this menu
</span><span style=color:#e6db74>   n   add a new partition
</span><span style=color:#e6db74>   o   create a new empty DOS partition table
</span><span style=color:#e6db74>   p   print the partition table
</span><span style=color:#e6db74>   q   quit without saving changes
</span><span style=color:#e6db74>   s   create a new empty Sun disklabel
</span><span style=color:#e6db74>   t   change a partition&#39;</span>s system id
   u   change display/entry units
   v   verify the partition table
   w   write table to disk and exit
   x   extra functionality <span style=color:#f92672>(</span>experts only<span style=color:#f92672>)</span>
</code></pre></div><h3 id=過程>過程</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>Command <span style=color:#f92672>(</span>m <span style=color:#66d9ef>for</span> help<span style=color:#f92672>)</span>: n
Partition type:
   p   primary <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span> primary, <span style=color:#ae81ff>0</span> extended, <span style=color:#ae81ff>4</span> free<span style=color:#f92672>)</span>
   e   extended
Select <span style=color:#f92672>(</span>default p<span style=color:#f92672>)</span>: p
Partition number <span style=color:#f92672>(</span>1-4, default 1<span style=color:#f92672>)</span>: <span style=color:#ae81ff>1</span>
First sector <span style=color:#f92672>(</span>2048-3907029167, default 2048<span style=color:#f92672>)</span>:
Using default value <span style=color:#ae81ff>2048</span>
Last sector, +sectors or +size<span style=color:#f92672>{</span>K,M,G<span style=color:#f92672>}</span> <span style=color:#f92672>(</span>2048-3907029167, default 3907029167<span style=color:#f92672>)</span>:
Using default value <span style=color:#ae81ff>3907029167</span>

Command <span style=color:#f92672>(</span>m <span style=color:#66d9ef>for</span> help<span style=color:#f92672>)</span>: w
The partition table has been altered!

Calling ioctl<span style=color:#f92672>()</span> to re-read partition table.
Syncing disks.

</code></pre></div><p>首先我們要新增一個分割區，步驟如下</p><ol><li>新增分割區，輸入 n 按 Enter。</li><li>選擇要建立 extended 還是 primary partition，因為我的硬碟全部只要一個分割區，所以我選 primary，輸入 p 按 Enter。</li><li>選擇 Partition number，primary 分割區最多可以有四個，隨便選都可以，不過建議選 1，免得以後看起來很奇怪，輸入 1 按 Enter。</li><li>輸入開始的 sector，用預設值就可以了，直接按 Enter。</li><li>輸入結束的 sector，若是要用最大的容量，就直接按 Enter，若是要指定分割區的大小，就用 +size{K,M,G} 的形式指定，例如指定為 100G 的大小就輸入 +100G 再按 Enter。</li><li>最後將分割表寫入硬碟，輸入 w 再按 Enter。</li></ol><h3 id=檢查>檢查</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo fdisk -l /dev/sdb

Disk /dev/sdb: 2000.4 GB, <span style=color:#ae81ff>2000398934016</span> bytes
<span style=color:#ae81ff>81</span> heads, <span style=color:#ae81ff>63</span> sectors/track, <span style=color:#ae81ff>765633</span> cylinders, total <span style=color:#ae81ff>3907029168</span> sectors
Units <span style=color:#f92672>=</span> sectors of <span style=color:#ae81ff>1</span> * 512 <span style=color:#f92672>=</span> <span style=color:#ae81ff>512</span> bytes
Sector size <span style=color:#f92672>(</span>logical/physical<span style=color:#f92672>)</span>: <span style=color:#ae81ff>512</span> bytes / <span style=color:#ae81ff>4096</span> bytes
I/O size <span style=color:#f92672>(</span>minimum/optimal<span style=color:#f92672>)</span>: <span style=color:#ae81ff>4096</span> bytes / <span style=color:#ae81ff>4096</span> bytes
Disk identifier: 0x5b5b43aa

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span style=color:#ae81ff>2048</span>  <span style=color:#ae81ff>3907029167</span>  <span style=color:#ae81ff>1953513560</span>   <span style=color:#ae81ff>83</span>  Linux

</code></pre></div><h2 id=格式化format硬碟>格式化（Format）硬碟</h2><p>分割區劃分後，需格式化後才能使用</p><ul><li>常用的包括 <code>ext2</code>、<code>ext3</code>、<code>ext4</code>、<code>xfs</code> 等</li><li>Windows 底下常用檔案包括 <code>ntfs</code>、<code>fat32</code></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo mkfs -t ext4 /dev/sdb1
mke2fs 1.42 <span style=color:#f92672>(</span>29-Nov-2011<span style=color:#f92672>)</span>
Filesystem label<span style=color:#f92672>=</span>
OS type: Linux
Block size<span style=color:#f92672>=</span><span style=color:#ae81ff>4096</span> <span style=color:#f92672>(</span>log<span style=color:#f92672>=</span>2<span style=color:#f92672>)</span>
Fragment size<span style=color:#f92672>=</span><span style=color:#ae81ff>4096</span> <span style=color:#f92672>(</span>log<span style=color:#f92672>=</span>2<span style=color:#f92672>)</span>
Stride<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> blocks, Stripe width<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> blocks
<span style=color:#ae81ff>122101760</span> inodes, <span style=color:#ae81ff>488378390</span> blocks
<span style=color:#ae81ff>24418919</span> blocks <span style=color:#f92672>(</span>5.00%<span style=color:#f92672>)</span> reserved <span style=color:#66d9ef>for</span> the super user
First data block<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
Maximum filesystem blocks<span style=color:#f92672>=</span><span style=color:#ae81ff>4294967296</span>
<span style=color:#ae81ff>14905</span> block groups
<span style=color:#ae81ff>32768</span> blocks per group, <span style=color:#ae81ff>32768</span> fragments per group
<span style=color:#ae81ff>8192</span> inodes per group
Superblock backups stored on blocks:
        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
        4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968,
        102400000, <span style=color:#ae81ff>214990848</span>

Allocating group tables: <span style=color:#66d9ef>done</span>
Writing inode tables: <span style=color:#66d9ef>done</span>
Creating journal <span style=color:#f92672>(</span><span style=color:#ae81ff>32768</span> blocks<span style=color:#f92672>)</span>: <span style=color:#66d9ef>done</span>
Writing superblocks and filesystem accounting information: <span style=color:#66d9ef>done</span>
</code></pre></div><h3 id=查詢目前檔案系統>查詢目前檔案系統</h3><ul><li><code>df -T</code></li><li><code>mount</code></li><li><code>cat /etc/fstab</code></li><li>為掛載狀態<ul><li><code>file -s /dev/sdb*</code></li></ul></li></ul><h2 id=查看-uuid>查看 UUID</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo blkid
/dev/sda1: UUID<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;87231b42-c88b-4111-ae5b-9650f743eafd&#34;</span> TYPE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ext4&#34;</span>
/dev/sda5: UUID<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d2ba3a6d-7a41-4eaf-ad01-bc81c279d82a&#34;</span> TYPE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;swap&#34;</span>
/dev/sdb1: UUID<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;59af9c6e-a7e8-4f05-99c0-492e16ec5df9&#34;</span> TYPE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ext4&#34;</span>

</code></pre></div><h2 id=etcfstab-資訊>/etc/fstab 資訊</h2><ul><li>檔案系統設定檔</li><li>開機將會自動掛載</li><li>一行設定一個檔案系統</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># /etc/fstab: static file system information.</span>
  <span style=color:#ae81ff>2</span> <span style=color:#75715e>#</span>
  <span style=color:#ae81ff>3</span> <span style=color:#75715e># Use &#39;blkid&#39; to print the universally unique identifier for a</span>
  <span style=color:#ae81ff>4</span> <span style=color:#75715e># device; this may be used with UUID= as a more robust way to name devices</span>
  <span style=color:#ae81ff>5</span> <span style=color:#75715e># that works even if disks are added and removed. See fstab(5).</span>
  <span style=color:#ae81ff>6</span> <span style=color:#75715e>#</span>
  <span style=color:#ae81ff>7</span> <span style=color:#75715e># &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;</span>
  <span style=color:#ae81ff>8</span> proc            /proc           proc    nodev,noexec,nosuid <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>0</span>
  <span style=color:#ae81ff>9</span> <span style=color:#75715e># / was on /dev/sda1 during installation</span>
 <span style=color:#ae81ff>10</span> UUID<span style=color:#f92672>=</span>87231b42-c88b-4111-ae5b-9650f743eafd /               ext4    errors<span style=color:#f92672>=</span>remount-ro <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>1</span>
 <span style=color:#ae81ff>11</span> <span style=color:#75715e># swap was on /dev/sda5 during installation</span>
 <span style=color:#ae81ff>12</span> UUID<span style=color:#f92672>=</span>d2ba3a6d-7a41-4eaf-ad01-bc81c279d82a none            swap    sw              <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>0</span>
 <span style=color:#ae81ff>13</span> <span style=color:#75715e># The Data Hardisk</span>
 <span style=color:#ae81ff>14</span> <span style=color:#75715e>#UUID=f1f0d3c0-7789-4bd5-98a0-52ea86076bdd /home/home1    ext3    defaults        0</span>
 <span style=color:#ae81ff>15</span>
 <span style=color:#ae81ff>16</span> UUID<span style=color:#f92672>=</span>bec08759-3ca6-4982-b8e0-6b00522038b9 /home/home1     ext4    defaults        <span style=color:#ae81ff>0</span>
 <span style=color:#ae81ff>17</span> UUID<span style=color:#f92672>=</span>FC9E-C961 /mnt/usb   vfat    defaults        <span style=color:#ae81ff>0</span>
~
</code></pre></div><ul><li>file system<ul><li>目錄名稱</li></ul></li><li>mount point<ul><li>要掛載的目錄</li></ul></li><li>type<ul><li>檔案系統類型（按照格式化的格式）</li></ul></li><li>options<ul><li>掛載的選項，<code>mount -o</code> 的選項</li><li>而外需求從這設定</li></ul></li><li>dump<ul><li>0 表示不用 <code>dump</code> 備份</li><li>1 表示用 <code>dump</code> 備份</li><li>2 表示其他週期用 <code>dump</code> 備份</li></ul></li><li>pass<ul><li>開機是否用 <code>fsck</code> 檢查分割區</li><li>0 不檢查</li><li>1、2 檢查，前者優先順序高於後者</li></ul></li></ul><h2 id=格式化檔案系統介紹>格式化檔案系統介紹</h2><h3 id=ext2>ext2</h3><ul><li>無 log 功能</li><li>不論檔案形式都存在一個 indoe 中，包含使用者資訊、檔案權限或大小等</li><li>硬碟容量最多支援到 32 TB</li><li>單一檔案最大支援到 2 TB</li></ul><h3 id=ext3>ext3</h3><ul><li>與 ext2 相比多了 log 功能</li><li>可無痛從 ext2 轉 ext3</li></ul><p>硬碟最大支援和單一檔案最大支援是一樣的。</p><h3 id=ext4>ext4</h3><p>和前兩個比</p><ul><li>硬碟容量最多支援到 1 EB</li><li>單一檔案最大支援到 16 TB</li><li>單一目錄最多放 64000 個子目錄（ext3 只能 32000 個）</li><li>優化 ext3 效率和可靠性</li></ul><h3 id=xfs>xfs</h3><ul><li>處裡大型檔案較快速，但建檔刪檔或處裡多個小檔案效率不佳<ul><li>刪除一個 1 TB 檔案和刪除 1 KB 檔案一樣</li></ul></li><li>掛載速度極快，CPU 占用低</li></ul><h3 id=btrfs>btrfs</h3><ul><li>B-tree 檔案系統</li><li>支援先進磁碟功能<ul><li>磁碟快照</li><li>快照的快照</li><li>磁碟陣列</li><li>動態掛載</li><li>等</li></ul></li><li>對 SSD 做優化</li></ul><p>安裝的套件為 <code>btrfs-tools</code></p><h2 id=掛載與卸載>掛載與卸載</h2><p>磁碟格式化完後，需使用就要掛載。掛載是一種建立鏈結的關係，不會去動到分割區內原始資料</p><p>掛載指令使用 <code>mount</code></p><table><thead><tr><th>參數</th><th>功能</th></tr></thead><tbody><tr><td>-a</td><td>掛載所有列在 <code>/etc/fstab</code> 的檔案系統</td></tr><tr><td>-L</td><td>掛載特定名稱的檔案系統</td></tr><tr><td>-t</td><td>指定檔案系統類型，支援 <code>ext2</code> <code>ext3</code> <code>ext4</code> 等</td></tr><tr><td>-r</td><td>掛載唯獨模式</td></tr><tr><td>-w</td><td>掛載可讀寫模式</td></tr><tr><td>-o</td><td>async：所有存取不同步進行</td></tr><tr><td></td><td>atime：每次存取自動更新存取時間</td></tr><tr><td></td><td>auto：自動掛載</td></tr><tr><td></td><td>noatime：不即時更新檔案系統存取時間</td></tr><tr><td></td><td>ro：掛載為唯獨檔案系統</td></tr><tr><td></td><td>rw：掛載為可讀寫檔案系統</td></tr><tr><td></td><td>default：預設選項</td></tr></tbody></table><p>卸載指令使用 <code>unmount</code></p><table><thead><tr><th>參數</th><th>功能</th></tr></thead><tbody><tr><td>-a</td><td>將 <code>/etc/fstab</code> 內以掛載的檔案系統全部卸載</td></tr><tr><td>-r</td><td>卸載失敗，以唯獨模式掛載</td></tr><tr><td>-t</td><td>只卸載指定檔案系統</td></tr></tbody></table><h2 id=掛載-exfat-方式>掛載 exfat 方式</h2><p>因為我朋友是在 windows 進行硬碟操作，我記得好像我是要複製東西(從 win 到 Liunx)。因此要掛載需要使用 exfat 方式。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo apt-get install exfat-fuse -y
$ sudo mount -t exfat /dev/sdg1 /mnt/usb
</code></pre></div><h2 id=後續還原的問題與處裡>後續還原的問題與處裡</h2><h3 id=網卡問題>網卡問題</h3><p>ubuntu 12.0 ver
82579v 需要安裝驅動</p><h3 id=強制更換-mac>強制更換 MAC</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>hwaddress ether AA:BB:CC:DD:EE:FF
</code></pre></div><h3 id=apache-問題>apache 問題</h3><p>2.2 up to 2.4
在 Apache 2.2 是這樣寫：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#a6e22e>Order</span> <span style=color:#a6e22e>allow</span>, <span style=color:#a6e22e>deny</span>
<span style=color:#a6e22e>Allow</span> <span style=color:#a6e22e>from</span> <span style=color:#a6e22e>all</span>
</code></pre></div><p>在 Apache 2.4 要改成：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#66d9ef>Require</span> <span style=color:#a6e22e>all</span> <span style=color:#a6e22e>granted</span>
</code></pre></div><h3 id=還原遇到的問題>還原遇到的問題</h3><p>move_uploaded_file 有問題的函示
/home/home1/143GB/&mldr;../upload/ 這為上傳檔案的資料夾必須賦予 www-data 權限</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo chown www-data:www-data /home/home1/143GB/...../upload/

</code></pre></div><h3 id=sudo-處裡>sudo 處裡</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo vi /etc/sudoers
<span style=color:#f92672>[</span>sudo<span style=color:#f92672>]</span> password <span style=color:#66d9ef>for</span> jni:
jni is not in the sudoers file.  This incident will be reported.
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>itachi@ubuntu:~$ sudo vi /etc/sudoers
 <span style=color:#75715e># User privilege specification</span>
 username     ALL<span style=color:#f92672>=(</span>ALL:ALL<span style=color:#f92672>)</span> ALL

</code></pre></div></div><div class="d-flex flex-row justify-content-around"><h3 class="mb-1 mt-1 text-left mr-4"><a href=/blog/2018-05-28-nginx-php-fpm-mysql/ title="LNMP 與 wordpress"><i class="nav-menu fas fa-chevron-circle-left"></i></a></h3><h3 class="mb-1 mt-1 text-left ml-4"><a href=/blog/2018-11-23-new-web/ title=新增網站><i class="nav-menu fas fa-chevron-circle-right"></i></a></h3></div></main><footer class="mt-2 mb-4 text-center"><span class=markdownify>short copyright message</span>
<span>&#183;
<i><a href=https://github.com/darshanbaral/aafu>aafu</a></i>
by
<a href=https://www.darshanbaral.com/>darshan</a></span></footer></body></html>