<!doctype html><html lang=en-us style=max-width:1000px;margin:auto><head><title>Kevin Blog</title><meta name=theme-color content><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta name=description content="Kevin learning"><meta name=author content="Kevin Chen"><meta name=generator content="aafu theme by Darshan in Hugo 0.83.0"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=/css/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.15.2/css/all.css integrity=sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu crossorigin=anonymous><link rel=stylesheet href=https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Didact+Gothic%7CRoboto:400%7CRoboto+Mono"><link rel=stylesheet href=/css/aafu_pinkish.css><link rel=stylesheet href=/css/aafu.css><script>var themeColor=document.querySelector("meta[name=theme-color]");window.onload=()=>{themeColor.content=getComputedStyle(document.body)["background-color"];let a=document.querySelector(".accordion.active");a&&(a.nextElementSibling.style.maxHeight=a.nextElementSibling.scrollHeight+"px")},window.onresize=()=>{let a=document.querySelector(".accordion.active");a&&(a.nextElementSibling.style.maxHeight=a.nextElementSibling.scrollHeight+"px")}</script></head><body class=container><main style="min-height:calc(100vh - 60px)"><div class="d-flex flex-row row p-2"><h3 class="main-menu mr-3"><a href=https://cch0124.github.io/>Home</a></h3><h3 class="main-menu mr-3"><a href=/blog>Blog</a></h3><h3 class="main-menu mr-3"><a href=/project>Project</a></h3><h3 class="main-menu mr-3"><a href=/life>Life</a></h3><h3 class="main-menu mr-3"><a href=/kubernetes>Kubernetes</a></h3><h3 class="main-menu mr-3"><a href=/code>Coding</a></h3></div><div class=mb-3><h1 class=top-h1 style=font-size:2.75em>使用者操作 - Ubuntu</h1><p class=mb-1>August 11, 2015</p><p>&mdash;</p></div><div class=content><h2 id=useradd-選項>useradd 選項</h2><table><thead><tr><th>參數</th><th>說明</th></tr></thead><tbody><tr><td>-c 註解</td><td>指定帳號的註解文字</td></tr><tr><td>-g 主要群組名稱或 GID</td><td>指定帳號的主要群組</td></tr><tr><td>-G 附加群組名稱或 GID</td><td>指定帳號所屬的附加群組</td></tr><tr><td>-d 目錄</td><td>指定家目錄</td></tr><tr><td>-e 日期</td><td>指定新建帳號的使用到期日，過期該帳號無法使用</td></tr><tr><td>-u UID</td><td>指定帳號的 UID 編號</td></tr></tbody></table><h2 id=新增使用者>新增使用者</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># useradd testuser</span>
<span style=color:#75715e># id testuser # id 列出使用者資訊</span>
uid<span style=color:#f92672>=</span>1002<span style=color:#f92672>(</span>testuser<span style=color:#f92672>)</span> gid<span style=color:#f92672>=</span>1003<span style=color:#f92672>(</span>testuser<span style=color:#f92672>)</span> groups<span style=color:#f92672>=</span>1003<span style=color:#f92672>(</span>testuser<span style=color:#f92672>)</span>
</code></pre></div><h3 id=指定群組>指定群組</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># useradd -g rd eric # -g 指定群組</span>
<span style=color:#75715e># id eric</span>
uid<span style=color:#f92672>=</span>1003<span style=color:#f92672>(</span>eric<span style=color:#f92672>)</span> gid<span style=color:#f92672>=</span>1001<span style=color:#f92672>(</span>rd<span style=color:#f92672>)</span> groups<span style=color:#f92672>=</span>1001<span style=color:#f92672>(</span>rd<span style=color:#f92672>)</span>
</code></pre></div><h2 id=移除使用者>移除使用者</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># userdel USER #無法刪除該使用者家目錄</span>
<span style=color:#75715e># userdel -r USER #刪除使用者和家目錄</span>
</code></pre></div><h2 id=usermod-選項>usermod 選項</h2><table><thead><tr><th>參數</th><th>說明</th></tr></thead><tbody><tr><td>-c 註解</td><td>改變帳號的註解文字</td></tr><tr><td>-g 主要群組名稱或 GID</td><td>改變帳號的主要群組</td></tr><tr><td>-G 附加群組名稱或 GID</td><td>改變或增加帳號所屬的附加群組</td></tr><tr><td>-d 目錄</td><td>改變家目錄</td></tr><tr><td>-e 日期</td><td>變更帳號的使用到期日，過期該帳號無法使用</td></tr><tr><td>-u UID</td><td>變更帳號的 UID 編號</td></tr><tr><td>-l 帳號名稱</td><td>變更原帳號的名稱</td></tr></tbody></table><h2 id=修改使用者帳號>修改使用者帳號</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># id tom</span>
uid<span style=color:#f92672>=</span>1004<span style=color:#f92672>(</span>tom<span style=color:#f92672>)</span> gid<span style=color:#f92672>=</span>1001<span style=color:#f92672>(</span>rd<span style=color:#f92672>)</span> groups<span style=color:#f92672>=</span>1001<span style=color:#f92672>(</span>rd<span style=color:#f92672>)</span>,1004<span style=color:#f92672>(</span>manager<span style=color:#f92672>)</span>
<span style=color:#75715e># usermod -G manager,sales tom # usermod 修改使用者帳號， -G 加入附屬群組(已存在的帳號)</span>
<span style=color:#75715e># id tom</span>
uid<span style=color:#f92672>=</span>1004<span style=color:#f92672>(</span>tom<span style=color:#f92672>)</span> gid<span style=color:#f92672>=</span>1001<span style=color:#f92672>(</span>rd<span style=color:#f92672>)</span> groups<span style=color:#f92672>=</span>1001<span style=color:#f92672>(</span>rd<span style=color:#f92672>)</span>,1004<span style=color:#f92672>(</span>manager<span style=color:#f92672>)</span>,1005<span style=color:#f92672>(</span>sales<span style=color:#f92672>)</span>
</code></pre></div></div><div class="d-flex flex-row justify-content-around"><h3 class="mb-1 mt-1 text-left mr-4"><a href=/blog/2018-08-19-cdp/ title=CDP><i class="nav-menu fas fa-chevron-circle-left"></i></a></h3><h3 class="mb-1 mt-1 text-left ml-4"><a href=/blog/2016-02-27-sudo-su/ title="sudo and su"><i class="nav-menu fas fa-chevron-circle-right"></i></a></h3></div></main><footer class="mt-2 mb-4 text-center"><span class=markdownify>short copyright message</span>
<span>&#183;
<i><a href=https://github.com/darshanbaral/aafu>aafu</a></i>
by
<a href=https://www.darshanbaral.com/>darshan</a></span></footer></body></html>